# Cursor Rules für Block Editor

## Notification Message System

### Verwendung der Notification-Funktion

**WICHTIG:** Verwende IMMER die `showNotification()` Funktion für alle Benutzer-Feedback-Nachrichten. Verwende KEINE `alert()`, `confirm()` oder andere Browser-Dialoge für Erfolgs-/Fehler-Meldungen.

### Funktion: `showNotification(message, type, duration)`

**Parameter:**
- `message` (string, erforderlich): Die Nachricht, die angezeigt werden soll. Kann auch HTML enthalten.
- `type` (string, optional, Standard: 'success'): Der Typ der Notification
  - `'success'` - Erfolgsmeldung (grün)
  - `'error'` - Fehlermeldung (rot)
  - `'info'` - Informationsmeldung (blau)
  - `'warning'` - Warnmeldung (gelb)
- `duration` (number, optional, Standard: 3000): Dauer in Millisekunden bis zum automatischen Ausblenden. Setze `0` für kein automatisches Ausblenden.

### Verwendungsbeispiele:

```javascript
// Erfolgreiche Aktion (Standard)
this.showNotification('Erfolgreich gespeichert!', 'success');

// Fehler mit längerer Anzeigedauer
this.showNotification('Fehler beim Speichern', 'error', 5000);

// Warnung
this.showNotification('Bitte beachten Sie die Einstellungen', 'warning');

// Info
this.showNotification('Neue Version verfügbar', 'info');

// HTML-Inhalt ohne automatisches Ausblenden
this.showNotification('<strong>Wichtig:</strong> Bitte prüfen Sie die Einstellungen', 'warning', 0);
```

### Wann welche Funktion verwenden:

- **Speichern-Operationen:** `this.showNotification('Erfolgreich gespeichert!', 'success');`
- **Löschen-Operationen:** `this.showNotification('Erfolgreich gelöscht!', 'success');`
- **Bearbeiten-Operationen:** `this.showNotification('Erfolgreich bearbeitet!', 'success');`
- **Fehler:** `this.showNotification('Fehler beim Speichern', 'error');`
- **Warnungen:** `this.showNotification('Bitte beachten Sie...', 'warning');`
- **Informationen:** `this.showNotification('Hinweis: ...', 'info');`

### Wichtige Regeln:

1. **NIEMALS** `alert()` für Erfolgs-/Fehler-Meldungen verwenden
2. **IMMER** `showNotification()` für Benutzer-Feedback verwenden
3. Verwende den passenden Typ (`success`, `error`, `info`, `warning`)
4. Für kritische Warnungen kann `duration: 0` verwendet werden (kein automatisches Ausblenden)
5. HTML-Inhalte werden unterstützt (z.B. für fettgedruckte Texte: `<strong>Text</strong>`)

### Technische Details:

- Die Notification wird automatisch nach der angegebenen Dauer ausgeblendet
- Benutzer können die Notification auch manuell schließen (Klick auf X oder auf die Notification)
- Die Notification erscheint oben rechts im Viewport
- Unterstützt Alpine.js Transitions für sanfte Animationen

## Funktionen und Block-Verarbeitung

### Verbot von doppelten Funktionen

**WICHTIG:** Es dürfen KEINE doppelten Funktionen existieren. Jede Funktion bearbeitet genau einen Block-Typ oder eine spezifische Funktionalität.

### Regeln:

1. **Eine Funktion = Ein Block-Typ:** Jede Funktion ist für genau einen Block-Typ oder eine spezifische Aufgabe zuständig
2. **Keine doppelte Verarbeitung:** Funktionen dürfen nicht doppelt verarbeitet werden, auch nicht in `init()` oder anderen Initialisierungsfunktionen
3. **Keine doppelten Init-Funktionen:** Jeder Block-Typ hat genau eine Initialisierungsfunktion, keine doppelten `init()` Aufrufe für denselben Block
4. **Einheitliche Zuständigkeit:** Wenn eine Funktion bereits einen Block bearbeitet, darf keine andere Funktion denselben Block ebenfalls bearbeiten

### Beispiele für VERBOTEN:

```javascript
// VERBOTEN: Doppelte Funktion für denselben Block
function initTextBlock() { /* ... */ }
function initializeTextBlock() { /* ... */ } // VERBOTEN - doppelte Initialisierung

// VERBOTEN: Doppelte Verarbeitung in init()
function init() {
    processBlock(block); // VERBOTEN wenn processBlock bereits in initBlock() aufgerufen wird
    initBlock(block);
}

// VERBOTEN: Mehrere Funktionen bearbeiten denselben Block
function handleTextBlock() { /* ... */ }
function processTextBlock() { /* ... */ } // VERBOTEN - doppelte Bearbeitung
```

### Beispiele für ERLAUBT:

```javascript
// ERLAUBT: Eine Funktion pro Block-Typ
function initTextBlock() { /* ... */ }
function initImageBlock() { /* ... */ }

// ERLAUBT: Klare Trennung der Zuständigkeiten
function init() {
    initTextBlock();
    initImageBlock();
}

// ERLAUBT: Eine Funktion bearbeitet einen Block
function handleTextBlock(block) {
    // Einzige Funktion, die Text-Blocks bearbeitet
}
```


